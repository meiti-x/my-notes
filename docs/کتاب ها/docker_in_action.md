---
title: Docker In Action
keywords:
  - book
  - document
  - docker in action
description: برداشت های من از کتاب داکر در عمل
---

<img src="https://m.media-amazon.com/images/I/71VgrJPXWiL._SL1500_.jpg"  height="400"/>

**نام کتاب**: داکر در عمل

**ویرایش:** دوم

**سال چاپ**:۱۳۹۶

**سال خوندن من**: ۱۴۰۴ بهار

---

## مقدمه

این قسمت بیشتر در مورد فلسفه داکر و چرایی اش هست و اینکه چرا داکر باعث *serviceability* *longevity* در برنامه هامون میشه

### داکر چیه؟

داکر یک ابزار لجستیکی که برای بسته بندی و حمل و نقل کانتینر ها هستش و همه این هارو به کمک مفهموی به اسم _containers_ که در سیستم عامل ها هست انجام میده. داکر ابزار جدیدی اختراع نکرده و و همه چیزهای که که در کنار هم قرار داده وجود داشته صرفا پیچیدگی پیاده سازی کانتینر ها یا jail هارو از دید ما پنهون کرده که باعث شده ایزوله سازی برای ما کار راحتی باشه مثل اکتشاف کانتینر برای اولین بار. داکر از این مفاهیم برای ایزوله کردن استفاده میکنه:

<span dir="ltr">

- **UTS** *namespace* -> host and domain name
- **MNT** *namespace* -> filesystem access and structure
- **IPC** *namespace* -> process communication over shared memory
- **NET** *namespace* -> network access and structure
- **USR** *namespace* -> usernames and identifier
- **chroot syscall** -> control the location of filesystem root
- **cgroup** -> resource protection
- **CAP drop** -> OS feature restriction
- **security modules**

</span>

بخاطر همین موارد داکر توی ویندوز فقط با VM یا  WSL اجرا میشه

#### کانتینر چیه؟

به صورت تاریخی اگه بخوایم بگیم سیستم عامل های `UNIX-style` مثل لینوکس از عبارتی مثل _jail_ برای این موضوع استفاده میکردن. این باعث میشد که یه ران تایم داشته باشیم که محدوده دسترسی یک برنامه ای که jail شده مدیریت کنیم.

**آیا کانتینر همون مفهوم VM یا Virtualization هستش؟** جواب کوتاه نه

جواب بلند: برخلاف VM ها داکر از هیچ منابع virtual سخت افزاری استفاده نمیکنه. برنامه های که داخل کانتینر هاست شدن مستقیما با کرنل در ارتباط هستن (با واسطه سیستم عامل) خیلی از برنامه های در isolation اجرا میشن بدون اینکه نیاز باشه مثل VM ها سیستم عامل کاملا بوت بشن.

با توجه به پیشرفت سخت افزار VM ها هم گزینه سریعی هستن. ولی فقط وقتی که `OS` کاملا بوت شود و این delay رو در داکر نداریم و از طرفی VM یک برنامه <mark>    user space هستش ولی داکر kernel space هستش </mark> که باعث میشه `syscall` هامون سریعتر بشه و درنهایت از منابع بهینه استفاده میشه

**تفاوت image با کانتینر چیه؟** به کامپوننتی که یه کانیتنر رو پر میکنه میگن image

- **Image:** الگوی فقط-خواندنی که شامل تمام وابستگی‌ها و تنظیمات لازم برای اجرای برنامه است
- **کانتینر:** نمونه‌ی درحال اجرا از یک Image که لایه نوشتنی نیز به آن اضافه شده است



### چه مشکلاتی رو داکر حل میکنه؟

#### انسجام

داکر مثل یک پرتال میمونه :) بعد از پایانش چیزی روی ذخیره نمیکن مگر ما بهش گفته بشیم که ذخیره کنه که این باعث میشه انسجام در سیستم خودمون داشته باشیم

#### پرتابیلیتی

- اجرای یکسان روی هر سیستمی که داکر داشته باشه
- استقرار در محیط‌های مختلف بدون تغییرات

#### امنیت

مثل زندان های معمولی(‍`jail`) هر چیزی که داخل کانتینر هستش فقط به چیزهای دسترسی داخلش وجود داره. مگر اینکه یه مجوزی به صورت explicit از سمت یوزر داده بشه. کانتینر ها محمدوده  تاثیر روی برنامه های دیگه رو محدود میکنن، دیتای که میتونن دسترسی داشته باشن، شبکه ای که میتونن باشن، و ریسورس های که میتونن داشته باشن

### چرا داکر مهمه

داکر یک *انتزاع* ایجاد میکنه. انتزاعی که به شما کمک میکنه روی مسايل سخت تر کار کنید. یعنی به جای اینکه فکرمون رو معطوف به چگونگی نصب و استقرار برنامه مون کنیم به نوشتن خوده برنامه فکر کنیم



---



## بخش اول: Process Isolation And Enviroment Independet Computing



### 
