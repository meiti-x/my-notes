---
title: Designing data intensive application
tags:
  - book
description: ุจุฑุฏุงุดุช ูุง ูู ุงุฒ ฺฉุชุงุจ Designing data intensive application
---

<img src="https://m.media-amazon.com/images/I/91YfNb49PLL._SL1500_.jpg"  height="500"/>

**ูุงู ฺฉุชุงุจ**: Designing data intensive application

**ุณุงู ฺุงูพ**:ฑณนท

**ุณุงู ุฎููุฏู ูู**: ุฏุฑ ุญุงู ุฎููุฏู

---

## ูุตู ฑ: **Reliableุ Scalable ู Maintainable Applications**

ุงู ูุตู ุงูู ฺฉุชุงุจ _Designing Data-Intensive Applications_ ููุดุชูโ Martin Kleppmann ูุณุช ู ูพุงูโุงโุชุฑู ููุงูู ูุฑุจูุท ุจู ุณุณุชูโูุง ุฏุงุฏูโุง ุฑู ุชูุถุญ ูโุฏู. ุงู ูุตู ุฏุฑ ูุงูุน ูู ุงุตุทูุงุญุงุช ุฑู ุฑูุดู ูโฺฉูู ู ูู ูุณุฑ ุจููโ ฺฉุชุงุจ ุฑู ูุดุฎุต ูโฺฉููุ ุจุง ุงู ุชูุฑฺฉุฒ ฺฉู Reliabilityุ Scalability ู Maintainability ุฏููุงู ุนู ฺ ู ฺุทูุฑ ูโุดู ุจูุดูู ุฑุณุฏ.

ุงูุฑูุฒู ุฎู ุงุฒ ุงูพูฺฉุดูโูุง **data-intensive** ูุณุชู. ุนู ูุญุฏูุฏุช ุงุตูุดูู CPU ูุณุชุ ูุดฺฉู ูุนูููุงู ุงุฒ ุญุฌู ุฒุงุฏ ุฏุชุงุ ูพฺุฏฺฏ ุงูู ุง ุณุฑุนุช ุชุบุฑุงุชุด ูุงุฏ. ุจุฑุง ุงูฺฉู ุจุชููู ุงูพูฺฉุดูโูุง data-intensive ูููู ุจุณุงุฒูุ ฺฉุชุงุจ ุฑู ุณู ููุถูุน ฺฉูุฏ ุชูุฑฺฉุฒ ูโฺฉูู:

### **Reliability**

ุณุณุชู ฺฉู reliable ุจุงุดู ุญุช ููุช ูุดฺฉู ูพุด ูุงุฏ ูู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉููุ ูุธููโูุงุด ุฑู ุงูุฌุงู ูโุฏู ู ุณุทุญ performance ูุงุจูโูุจููุด ุฑู ุญูุธ ูโฺฉูู. ุงู ุนู ุจุชููู ุฎุทุงูุง ูุฎุชูู ุฑู ุชุญูู ฺฉููุ ูุซู:

- **Hardware faults**: ูุซู ุณูุฎุชู ูุงุฑุฏุ ุฎุฑุงุจ RAMุ ูุทุน ุจุฑู ุง ุญุช ฺฉุงุจู ุจุฑู ฺฉู ฺฉ ุงุดุชุจุงู ูโฺฉุดู ุจุฑูู! ุงูุง ุชู ุฏุชุงุณูุชุฑูุง ุจุฒุฑฺฏ ุฎู ุฑุงุฌู.
    
- **Software errors (bugs)**: ูุนูููุงู ุณุณุชู ูุณุชู ู ูุณุจุช ุจู ุฎุทุงูุง ุณุฎุชโุงูุฒุงุฑ ุฏุฑุฏุณุฑ ุจุดุชุฑ ุฏุงุฑู.
    
- **Human errors**: ุฎุทุงูุง ุงูุณุงู ููุดู ุจุฎุด ุงุฒ ฺฉุงุฑ ูุณุชู. ุณุณุชูโูุง robust ุทูุฑ ุทุฑุงุญ ูโุดู ฺฉู ุงุญุชูุงู ุฎุทุง ุงูุณุงู ฺฉู ุจุดู ู ุงฺฏุฑ ูู ุงุชูุงู ุงูุชุงุฏ ุณุฑุน ุจุดู ุฑฺฉุงูุฑ ฺฉุฑุฏ.
    

ุจุฑุง ุงูุฒุงุด Reliability ูุนูููุงู ุงุฒ ุชฺฉูฺฉโูุง ูุซู fault-toleranceุ ูุงูุชูุฑูฺฏ ุฏูู (telemetry) ู ูููโุทูุฑ ูุฏุฑุช ุฏุฑุณุช ู ุขููุฒุด ุชูโูุง ุงุณุชูุงุฏู ูโุดู.

---

###  **Scalability**

ุณุณุชู ฺฉู scalable ุจุงุดูุ ููุช ุฏุชุง ุง ุชุฑุงูฺฉ ุง ูพฺุฏฺฏ ุจุดุชุฑ ูโุดูุ ูููุฒ ูโุชููู ุฏุฑุณุช ูุฏุฑุช ฺฉูู. ุจุฑุง ุงูฺฉู ุฏุฑ ููุฑุฏ scalability ุฏุฑุณุช ุตุญุจุช ฺฉููุ ุจุงุฏ **load** ุณุณุชู ุฑู ฺฉูโุณุงุฒ ฺฉููุ ูุซูุงู ุจุง ูพุงุฑุงูุชุฑูุง ูุซู ุชุนุฏุงุฏ request ุจุฑ ุซุงููุ ูุณุจุช read ุจู write ุง ุชุนุฏุงุฏ ฺฉุงุฑุจุฑูุง active.

ูุซุงู: ุชุญูู **home timeline** ุฏุฑ Twitter.

- ู ุฑูุด ุงูู ฺฉู ูุฑ ุจุงุฑ ฺฉุงุฑุจุฑ timeline ุฑู ุจุงุฒ ูโฺฉููุ ุชูุชโูุง ูุงููููฺฏโูุงุด fetch ุจุดู. ุงู ุจุฑุง ฺฉุณุง ฺฉู ุฎู ูุงููููฺฏ ุฏุงุฑู ูโุชููู ุณูฺฏู ุจุดู (read load ุจุงูุง).
- ุฑูุด ุฏฺฏู ุงูู ฺฉู ููุช ฺฉุงุฑุจุฑ ุชูุช ูโฺฉููุ ุงูู ุชูุช ุฑู pre-compute ฺฉูู ู ุจุฑุง ูููโ ูุงูููุฑูุงุด push ฺฉูู (fan-out) ุชุง ุฎููุฏู ุณุฑุน ุจุดู. ุงู ุจุงุฑ ุฑู write ูโุฐุงุฑูุ ูุฎุตูุตุงู ุจุฑุง ฺฉุงุฑุจุฑูุง ูุนุฑูู.
- Twitter ุฏุฑ ุนูู ู **hybrid strategy** ุงุณุชูุงุฏู ูโฺฉูู: ุจุฑุง ุจุดุชุฑ ฺฉุงุฑุจุฑุง fan-out ู ุจุฑุง celebrityูุง fetch ูููุน read.
    

ุจุฑุง ุณูุฌุด performance ูู ุจูุชุฑู ุงุฒ **percentile**ูุง ุฒูุงู ูพุงุณุฎ (ูุซูุงู p95 ุง p99) ุงุณุชูุงุฏู ฺฉููุ ูู ููุท average. ฺูู "tail latency" ูููู ุชุฌุฑุจูโุงู ฺฉู ุฎู ุงุฒ ฺฉุงุฑุจุฑุง ุญุณ ูโฺฉูู ู ูโุชููู ุฑุถุงุชุดูู ุฑู ุจู ุดุฏุช ุชุญุชโุชุฃุซุฑ ุจุฐุงุฑู.

---

###  **Maintainability**

ุงู ููุถูุน ูุฑุจูุท ุจู ุงูู ฺฉู ุขุฏูุง ูุฎุชูู (ุงุฒ ุชู engineering ฺฏุฑูุชู ุชุง ops) ุจุชููู ุฏุฑ ุทูู ุฒูุงู ุจู ุฑุงุญุช ุฑู ุณุณุชู ฺฉุงุฑ ฺฉููุ ูฺุฑูุง ููุฌูุฏ ุฑู ูฺฏู ุฏุงุฑู ู ุณุณุชู ุฑู ุจุฑุง ูุงุฒูุง ุฌุฏุฏ ุชุบุฑ ุจุฏู. ุณู ุจุฎุด ููู Maintainability:

- **Operability**: ุฑุงุญุช ุจูุฏู ูุฏุฑุช ุณุณุชู ุจุฑุง ุชู ops. ุนู ูุงูุชูุฑูฺฏ ุฎูุจุ ูุณุชูุฏุงุช ุดูุงูุ ุขูพฺฏุฑุฏ ุฑุงุญุช ู ูพุดุชุจุงู ุฏุฑุณุช.
    
- **Simplicity**: ฺฉูุชุฑู complexity. ูพฺุฏฺฏ ูโุชููู ุงุฒ state ุฒุงุฏุ coupling ุดุฏุฏ ุง dependencyูุง ุฏุฑููโุชูุฏู ุจุงุฏ. ฺฉู ฺฉุฑุฏู complexity ุฎู ูููู ุจุฑุง ฺฉุงูุด ุฑุณฺฉ ุจุงฺฏ ู ุขุณููโุชุฑ ฺฉุฑุฏู ูฺฏูุฏุงุฑ. ุงูุฌุง ุฏุงุดุชู abstractionูุง ุฏุฑุณุช ฺฉูฺฉ ูโฺฉูู ุณุณุชู ุฑู ุจู ุชฺฉูโูุง ฺฉูฺฺฉ ู reusable ุชูุณู ฺฉูู.
    
- **Evolvability**: ูุงุจูุช ุชุบุฑ ุฑุงุญุช ุณุณุชู ู ุชุทุจู ุจุง ูุงุฒูุง ุฌุฏุฏ. ุงู ุจุฎุด ุฎู ุจู simplicity ู abstractionูุง ุฏุฑุณุช ูุงุจุณุชูโุณุช.
    

### Fault vs Failure

ุจู ุทูุฑ ฺฉู ู **Fault** ุนู ฺฉ ุงุฒ ฺฉุงููพูููุชโูุง ุณุณุชู ุงุฒ ฺุฒ ฺฉู ุชู specification ุจุฑุงุด ุชุนุฑู ุดุฏู ููุญุฑู ุจุดู. ูู ุงู ุจุง **Failure** ูุฑู ุฏุงุฑู: Failure ููุช ุงุชูุงู ูโุงูุชู ฺฉู ฺฉู ุณุณุชู ุฏฺฏู ูุชููู ุณุฑูุณ ููุฑุฏูุงุฒ ุฑู ุจู ฺฉุงุฑุจุฑ ุจุฏู.

Reliability ุชู ุณุณุชูโูุง ูุฑูโุงูุฒุงุฑ ุนู ุญุช ููุช ุงู ยซฺุฒูุง ฺฉู ูโุชููู ุฎุฑุงุจ ุจุดูยป (Faultูุง) ูพุด ูุงูุ ุณุณุชู ููฺูุงู ุฏุฑุณุช ฺฉุงุฑ ฺฉูู. ฺูู ุญุฐู ฺฉุงูู Faultูุง ุนููุงู ุบุฑููฺฉููุ ุณุณุชูโูุง ุทูุฑ ุทุฑุงุญ ูโุดู ฺฉู **fault-tolerance mechanisms** ุฏุงุดุชู ุจุงุดู ุชุง ูุฐุงุฑู Faultูุง ุจู Failure ุชุจุฏู ุจุดู.

ู ุฑุงู ุชุณุช ุงู ูฺฉุงูุฒูโูุง ุงูู ฺฉู ุนูุฏุงู Fault ุชุฒุฑู ฺฉูู. ูุซูุงู ุงุจุฒุงุฑ ูุนุฑูู Netflix ุจู ุงุณู **Chaos Monkey** ููู ฺฉุงุฑู ูโฺฉูู: ูุงุฏ ุจุฎุด ุงุฒ ุณุณุชู ุฑู ูโุชุฑฺฉููู ุชุง ูุทูุฆู ุจุดู ุณุณุชู ูโุชููู ุฒูุฏู ุจูููู.

---

### ุฏุณุชูโูุง ูุฎุชูู Fault

#### ฑ. **Hardware Faults**

ุงูโูุง ูุดฺฉูุงุช ูุฒฺฉ ูุณุชูุ ูุซู:

- ุณูุฎุชู ูุงุฑุฏ
- ุฎุฑุงุจ RAM
- ูุทุน ุจุฑู ุฏุชุงุณูุชุฑ
- ุง ุญุช ู ููุฑ ฺฉุงุจู ุดุจฺฉู ุฑู ุจฺฉุดู ุจุฑูู

ุชู ุฏุชุงุณูุชุฑูุง ุจุฒุฑฺฏ ุงู ุงุชูุงูุงุช ุฒุงุฏูุ ูู ูุนูููุงู **random** ู **independent** ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดู.

#### ฒ. **Software Errors**

ุงูโูุง ุฎุทุงูุง ุณุณุชู ูุณุชู ฺฉู ุฎู ุณุฎุชโุชุฑ ูโุดู ูพุดโุจูุดูู ฺฉุฑุฏ. ููฺฉูู ุฑู ฺูุฏู node ุจุง ูู ุงุชูุงู ุจูุชู ู ุจุงุนุซ **system failure** ฺฏุณุชุฑุฏูโุชุฑ ุจุดู.  
ูุซุงูโูุง:

- ู bug ฺฉู ุงฺฏู ูุฑูุฏ ุฎุงุต ุจูุด ุจุฏ ฺฉู application server ุฑู crash ฺฉูู 
- ูพุฑูุณูโูุง ฺฉู runaway ูโุดู ู ูููโ resource ูุดุชุฑฺฉ ุฑู ูโุจูุนู.
- ุณุฑูุณโูุง ูุงุจุณุชูโุง ฺฉู ฺฉูุฏ ุง ุจโูพุงุณุฎ ูโุดู.
- ุง**cascading failures** (ุนู ู ูุดฺฉู ฺฉูฺฺฉ ุจุงุนุซ ุฏูููู ุงุฒ ุฎุทุงูุง ุจุดู).

#### ณ. **Human Errors**

ูุซูุง **Configuration error**ูุง ฺฉ ุงุฒ ุงุตูโุชุฑู ุฏูุงู outage ุชู ุณุฑูุณโูุง ุจุฒุฑฺฏ ุงูุชุฑูุช ูุณุชูุ ุญุช ุจุดุชุฑ ุงุฒ hardware faults.

---

### Faultูุง ุชู Distributed Systems

ููุช ุณุณุชู ุฑู ฺูุฏู ูุงุดู ุชู ุดุจฺฉู ุงุฌุฑุง ูโุดูุ ุฏุงุณุชุงู ูุฑู ูโฺฉูู. ุงูุฌุง **partial failures** ุฎู ุฑุงุฌู: ุจุนุถ ุจุฎุดโูุง ุฎุฑุงุจ ูโุดูุ ุจูู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูู. ุงู ููุถูุน ุฎูุฏุด Faultูุง ุฌุฏุฏ ูโุณุงุฒู:

#### ฑ. **Network Faults**

ุดุจฺฉู ุจู ูุงุดูโูุง ููุดู ูุงุจู ุงุนุชูุงุฏ ูุณุช. ููฺฉูู:

- ูพุงู (packet) ฺฏู ุจุดูุ
- ุชุฃุฎุฑ ุฏุงุดุชู ุจุงุดูุ
- ุฏูุจุงุฑู ุงุฑุณุงู ุจุดูุ
- ุง ุญุช ุชุฑุชุจุด ุจูู ุจุฎูุฑู.

ู ูฺ ุชุถูู ูู ุจุฑุง ุฒูุงู ู ุชุญููุด ูุณุช. ูุฑุณุชูุฏู ูู ุจุฏูู ุฌูุงุจุ ููโุชููู ูุทูุฆู ุจุดู ฺฉู ูพุงู ุฑุณุฏู. ุจุฑุง ููู ูุนูููุงู ุงุฒ timeout ุงุณุชูุงุฏู ูโฺฉูู (ฺฉู ฺฉุงูู ูู ุฏุฑุณุช ฺฉุงุฑ ููโฺฉูู). Congestion ู ุตูโุฒุฏู (queueing delay) ูู ุฏูุงู ุงุตู ููุณุงู performance ุดุจฺฉูโุงู.

#### ฒ. **Unreliable Clocks**

ูุฑ ูุงุดู ุณุงุนุช ุฎูุฏุด ุฑู ุฏุงุฑู ฺฉู ููฺฉูู drift ฺฉูู (ุนู ุณุฑุนโุชุฑ ุง ฺฉูุฏุชุฑ ุจุดู). ุญุช ุจุง ูพุฑูุชฺฉูโูุง ูุซู NTP ูู ููฺฉูู ุณุงุนุชโูุง sync ูุจุงุดู. ฺฏุงู ุณุงุนุช ูโุชููู ูโุฏูุนู ุจู ุนูุจ ุง ุฌูู ุจูพุฑู.  
ุงฺฏู ุจุฑุง ordering ุฑูุฏุงุฏูุง ุฑู ฺูุฏ node ุจู ุงู ุณุงุนุชโูุง ุชฺฉู ฺฉููุ ููฺฉูู ุจุงุนุซ **data loss** ุง ุฑูุชุงุฑ ุงุดุชุจุงู ุจุดู. ูุซูุงู ุงุณุชุฑุงุชฺ **last write wins** ุชู conflict resolution ููฺฉูู ุจู ุฎุงุทุฑ ููู ูุดฺฉู fail ฺฉูู.

#### ณ. **Process Pauses**

ู ูพุฑูุณู ููฺฉูู ูโุฏูุนู ุจุฑุง ูุฏุช ุทููุงู pause ุจุดูุ ูุซูุงู ุจู ุฎุงุทุฑ:

- ุงstop-the-world ุชู garbage collectionุ
- ุงsynchronous disk I/Oุ
- ุง page fault.

ููุช ุงู pause ุงุชูุงู ูโุงูุชูุ ุจููโ nodeูุง ูฺฉุฑ ูโฺฉูู ุงู node ูุฑุฏู ู declareุด ูโฺฉูู dead. ุญุงูุง ุงฺฏู ุฏูุจุงุฑู ุจุฏุงุฑ ุจุดู ู ุจุฎูุงุฏ ุจุง ุงุทูุงุนุงุช ูุฏู ฺฉุงุฑ ฺฉููุ ูุดฺฉู ุฏุฑุณุช ูโุดู.

#### ด. **Byzantine Faults**

ุงูุฌุง ูุงุฌุฑุง ุฎู ุจุฏุชุฑู: node ููฺฉูู ุฑูุชุงุฑ arbitrary ุง ุญุช **malicious** ุฏุงุดุชู ุจุงุดู. ุนู ุนูุฏุงู ูพุงูโูุง ูุชูุงูุถ ุง ุฎุฑุงุจ ุจูุฑุณุชู ุชุง ุจููโ nodeูุง ุฑู ฺฏูุฑุงู ฺฉูู.  
ุงูุจุชู ูพุฑูุชฺฉูโูุง **Byzantine fault-tolerant** ูุฌูุฏ ุฏุงุฑูุ ูู ุจุดุชุฑ ุณุณุชูโูุง ุฏุงุฏูโุง server-side ูุฑุถ ูโฺฉูู nodeูุง ููฺฉูู unreliable ุจุงุดูุ ูู dishonest ูุณุชู (ุนู ุนูุฏุงู ุฏุฑูุบ ููโฺฏู).


### ุชูุตู Load

ุง**Load** ุนู ุชูุงุถุง ุง ูุดุงุฑ ฺฉุงุฑ ฺฉู ุฑู ุณุณุชู ูุงุฏ. **Scalability** ูู ุนู ุชูุงูุง ุณุณุชู ุจุฑุง ููุฏู ฺฉุฑุฏู ููู ุงูุฒุงุด Load.

ุจุฑุง ุงูฺฉู ุจุชููู ุงุฒ ุฑุดุฏ ุญุฑู ุจุฒููุ ุงูู ุจุงุฏ Load ูุนู ุณุณุชู ุฑู ุจุง ฺูุฏ ุชุง ุนุฏุฏ ุฎูุงุตู ฺฉููุ ุจู ุงูุง ูโฺฏู **load parameters**. ุงูฺฉู ุฏููุงู ฺู ูพุงุฑุงูุชุฑูุง ุฑู ุงูุชุฎุงุจ ฺฉููุ ุจุณุชฺฏ ุจู ูุนูุงุฑ ุณุณุชู ุฏุงุฑู.

ูุซุงูโูุง ุงุฒ load parameters:

- ุชุนุฏุงุฏ requests per second ุชู ู web server
- ูุณุจุช read ุจู write ุชู ู database
- ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ูุนุงู ููุฒูุงู ุชู ู chat room
- ุงhit rate ู cache
    

**ูุซุงู ุชูุชุฑ** ุฎู ุฎูุจ ุงูู ูุดูู ูโุฏู. ุชู ููุงูุจุฑ ฒฐฑฒ:

- ุจู ุทูุฑ ูุงูฺฏู ด.ถk ู ุฏุฑ ุงูุฌ ฑฒk request/second ุจุฑุง tweet ฺฉุฑุฏู ุฏุงุดุชู.
    
- ูู ุจุฑุง timeline ุฏุฏู ณฐฐk request/second ุจูุฏ.
    

ุญุงูุง ุดุงุฏ ููุฏู ฺฉุฑุฏู ฑฒk write/second ุณุงุฏู ุจู ูุธุฑ ุจุงุฏุ ุงูุง ูุดฺฉู ุงุตู ุชูุชุฑ **fan-out** ุจูุฏ. ุนู ูุฑ ฺฉุงุฑุจุฑ ูู ูุงููุฆุฑ ุฒุงุฏ ุฏุงุฑูุ ูู ูุงููุฆูฺฏ ุฒุงุฏ. ู ุชูุช ุงุฒ ู ุณูุจุฑุช ูโุชููู ุจู ณฐ ูููู home timeline ููุดุชู ุจุดู! ูพุณ ุชู ุงู ุณูุงุฑูุ ุชูุฒุน ูุงููุฆุฑูุง ูุฑ ฺฉุงุฑุจุฑ ุฎูุฏุด ู **load parameter** ฺฉูุฏ ุญุณุงุจ ูโุดู.

---

### ุชูุตู Performance

ููุช Load ุฑู ุดูุงุฎุชูุ ุจุนุฏุด ุจุงุฏ ุจุฑุฑุณ ฺฉูู ฺฉู **Performance** ุณุณุชู ุจุง ุงูุฒุงุด Load ฺู ุชุบุฑ ูโฺฉูู. ูุนูููุงู ุฏู ุฌูุฑ ูฺฏุงู ุฏุงุฑู:

1. ุงฺฏู ู load parameter ุฒุงุฏ ุจุดู ู ููุงุจุน (CPUุ Memoryุ Network Bandwidth) ุซุงุจุช ุจููููุ Performance ฺู ุงุชูุงู ุจุฑุงุด ููุชูุ
2. ุงฺฏู ุจุฎูุงู Performance ุซุงุจุช ุจููููุ ุจุงุฏ ฺูโูุฏุฑ ููุงุจุน ุฑู ุงูุฒุงุด ุจุฏู ููุช load parameter ุจุงูุง ูโุฑูุ

**ูุชุฑฺฉโูุง Performance** ุจู ููุน ุณุณุชู ุจุณุชฺฏ ุฏุงุฑู:

- ุชู **batch processing systems** ูุซู Hadoopุ ูุนูููุงู **Throughput** ูููโุชุฑู ูุนุงุฑ ูุญุณูุจ ูโุดู (ุนู ฺูุฏ ุฑฺฉูุฑุฏ ุฏุฑ ุซุงูู ูพุฑุฏุงุฒุด ูโุดู ุง ฺฉู job ุฑู ู dataset ฺู ูุฏุช ุทูู ูโฺฉุดู).
- ุชู **online systems**ุ ุจุดุชุฑ **Response Time** ูููู (ุนู ูุงุตูู ุจู ูุฑุณุชุงุฏู request ุงุฒ ุณูุช client ุชุง ฺฏุฑูุชู response).


---

### Response Time ู Latency

ุฎู ููุชุง "Latency" ู "Response Time" ุฑู ฺฉ ูโุฏูููุ ูู ุฏููุง ฺฉ ูุณุชู:

- ุง**Response Time** ูููู ฺุฒู ฺฉู ฺฉุงุฑุจุฑ ูโุจูู: ุดุงูู ุฒูุงู ูพุฑุฏุงุฒุด request (service time) + network delay + queueing delay.
- ุง**Latency** ููุท ุงูู ุจุฎุด ุงุฒ ุฒูุงูู ฺฉู request ููุชุธุฑ ูโูููู ุชุง ุณุฑูุณ ุฏุงุฏู ุจุดู.


ุงResponse time ู ุนุฏุฏ ุซุงุจุช ูุณุชุ ุจูฺฉู ู **distribution** ุฏุงุฑู. ุญุช ุฏู ุชุง request ฺฉุณุงู ูู ูโุชููู response time ูุชูุงูุช ุฏุงุดุชู ุจุงุดู (ุจู ุฎุงุทุฑ context switchุ packet retransmissionุ GC pauseุ ุง disk I/O).

ุจุฑุง ุงูฺฉู Performance ุฑู ุฏุฑุณุช ุจููููุ ุงุณุชูุงุฏู ุงุฒ **Percentiles** ุฎู ุจูุชุฑ ุงุฒ **Mean (Average)** ููุ ฺูู ูุงูฺฏู ูุดูู ููโุฏู ฺูุฏ ุฏุฑุตุฏ ฺฉุงุฑุจุฑุง ูุงูุนุงู ู delay ุฎุงุต ุฑู ุชุฌุฑุจู ฺฉุฑุฏู.

- ุง**Median (50th percentile)**: ูุตู requestูุง ุณุฑุนโุชุฑ ุงุฒ ุงู ูุณุชูุ ูุตู ุฏฺฏู ฺฉูุฏุชุฑ. ุงู ุดุงุฎุต ุฎูุจู ุจุฑุง "ุชุฌุฑุจูโ ูุนููู ฺฉุงุฑุจุฑ".
    
- ุง**High percentiles** ุง ูููู **Tail Latencies** (ูุซู 95thุ 99th ุง 99.9th): ุฎู ููููุ ฺูู ุชุฌุฑุจูโ ฺฉูุฏุชุฑู ฺฉุงุฑุจุฑุง ุฑู ูุดูู ูโุฏู. ูุซูุงู Amazon ูููุฏ ููุท ฑฐฐms ุงูุฒุงุด response time ูโุชููู ูุฑูุด ุฑู ฑูช ฺฉู ฺฉูู!
    

ุงTail latency ูุนูููุง ูพุงูโ **SLO** ู **SLA** ููุงุณุช ฺฉู ุณุทุญ ุงูุชุธุงุฑ ฺฉุงุฑุง ู ุฏุฑ ุฏุณุชุฑุณ ุจูุฏู ุณุฑูุณ ุฑู ุชุนุฑู ูโฺฉูู.

---

### ููุด Queueing

ุง**Queueing delay** ฺฉ ุงุฒ ุฏูุงู ุงุตู tail latency ุจุงูุงุณุช. ุญุช ุชุนุฏุงุฏ ฺฉู request ฺฉูุฏ ูโุชููู ฺฉู ุตู ุฑู ุนูุจ ุจูุฏุงุฒู ู ุจุงุนุซ **head-of-line blocking** ุจุดู. ุจู ููู ุฏููุ ุฎู ูููู ฺฉู response time ุฑู ุงุฒ ุณูุช client ุจุณูุฌู.

ููุช ู request end-user ุดุงูู ฺูุฏู backend call ุจุงุดูุ **tail latency amplification** ุงุชูุงู ูโุงูุชู: ุนู ุญุช ุงฺฏู ููุท ุฏุฑุตุฏ ฺฉู ุงุฒ backend callูุง ฺฉูุฏ ุจุงุดูุ ุชุนุฏุงุฏ ุฎู ุจุดุชุฑ ุงุฒ ุฏุฑุฎูุงุณุชโูุง ฺฉุงุฑุจุฑ ููุง ฺฉูุฏ ูโุดู.

ุจุฑุง ูุงูุชูุฑูฺฏ ุฏุฑุณุช Percentiles ูู ุงูฺฏูุฑุชูโูุง ุฎุงุต ูุงุฒูู (ูุซู forward decayุ t-digest ุง HdrHistogram)ุ ฺูู ุงูฺฉู ุจุฎูุง ฺฉู ุฏุงุฏูโูุง ุฑู ูุฑุชุจ ฺฉู ุฎู inefficient ูโุดู.


ููุช ู ุณุณุชู ุจุง ุงูุฒุงุด **load** (ุชูุงุถุง) ุฑูุจูโุฑู ูุดูุ ูุงุฒูู ู ุณุฑ ุงุณุชุฑุงุชฺ ุฏุงุดุชู ุจุงุดู ฺฉู **performance** (ุนููฺฉุฑุฏ) ุฎูุจ ุจุงู ุจูููู. ูฺ ุฑุงูโุญู ุฌุงุฏู ุง ฺฉุณุงู ุจุฑุง ูููโฺ ูุฌูุฏ ูุฏุงุฑู. ูุนูุงุฑ ุฏุฑุณุชุ ุฎู ูุงุจุณุชูโุณุช ุจู ูุงุฒ ุงูพูฺฉุดู ู ููุน **load**โุง ฺฉู ูโฺฏุฑู.

### ุฑุงูโูุง ุงุตู ุจุฑุง ููุงุจูู ุจุง load:

1. ุง**Scaling Up (Vertical Scaling)**  
    ุงู ุนู ุงูุชูุงู ุจู ู ูุงุดู ููโุชุฑ. ูุซูุงู ู ุณุฑูุฑ ูุฏุฑุชููุฏ ุจุง ฺฉู CPUุ ุฑู ุฒุงุฏ ู ุฏุณฺฉโูุง ูุชุนุฏุฏ. ุงูุง ูุซู ู ูุงุดู ูุงุญุฏ ฺฉุงุฑ ูโฺฉูู ู ู interconnect ุณุฑุน ุฏุงุฑู ฺฉู ูุฑ CPU ูโุชููู ุจู ูุฑ ุจุฎุด ุงุฒ ุญุงูุธู ุง ุฏุณฺฉ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู.  
    ูุฏุฑุช ุงู ูุฏู ุฑุงุญุชโุชุฑูุ ูู ูุฒููโุด ุจูโุตูุฑุช ุฎุท ุจุงูุง ููุฑูุ ุนู ุงฺฏู ูุงุดู ุฏู ุจุฑุงุจุฑ ุจุฒุฑฺฏโุชุฑ ุจฺฏุฑุ ูุฒููุงู ุฏู ุจุฑุงุจุฑ **load** ุฑู ููโฺฉุดู. ูููุทูุฑ ูุญุฏูุฏุชโูุง ูุซู bottleneck ู ุชฺฉโูฺฉุงู ุฌุบุฑุงูุง ูู ุฏุงุฑู. ุงูุจุชู ุจุนุถ high-end server ูุง ูุทุนุงุช hot-swappable ุฏุงุฑู ุจุฑุง **fault tolerance**ุ ูู ุจุงุฒ ูุญุฏูุฏุช ุฏุงุฑู.
    
2. ุง**Scaling Out (Horizontal Scaling)**  
    ุงู ุนู ูพุฎุด ฺฉุฑุฏู **load** ุฑู ฺูุฏุชุง ูุงุดู ฺฉูฺฺฉโุชุฑุ ฺฉู ุจูุด ูฺฏู **shared-nothing architecture**. ุชู ุงู ูุฏูุ ูุฑ node (ุจุง CPUุ ุฑู ู ุฏุณฺฉ ุฎูุฏุด) ุงุฒ ุทุฑู ู ุดุจฺฉู ุนุงุฏ ุจู ุจูู ูุตูู.  
    ูุฒุชุด ุงูู ฺฉู ุฏุชุง ุจุฒุฑฺฏ ูโุชููู ุฑู ฺูุฏุชุง ุฏุณฺฉ ูพุฎุด ุจุดู ู query ูุง ูู ุจู ฺูุฏุชุง CPU ุชูุณู ุจุดู. ุงฺฏู query ููุท ุฑู ู partition ุงุฌุฑุง ุจุดูุ ุงูู node ูโุชููู ูุณุชูู ฺฉุงุฑ ฺฉููุ ู ุจุง ุงุถุงูู ฺฉุฑุฏู node ุฌุฏุฏุ throughput ุจุงูุง ูุฑู.  
    ูุดฺฉูุด ุงูู ฺฉู distributed shared-nothing ูุนูุงุฑ ูพฺุฏฺฏ ุจุดุชุฑ ูุงุฑู ู ุจุนุถ ููุชุง data model ูุง ุฑู ูุญุฏูุฏ ูโฺฉูู.
    
    ๐น ุง**Partitioning (Sharding)**  
    ฺฉ ุงุฒ ฺฉูุฏโุชุฑู ุฑูุดโูุง ุจุฑุง scaling out ูููู. ุฏุชุงุจุณ ุจุฒุฑฺฏ ุฑู ูโุดฺฉููู ุจู ฺูุฏุชุง partition ฺฉูฺฺฉโุชุฑ ู ูโุฏู ุจู nodeูุง ูุฎุชูู. ุงูุทูุฑ ูู ุฏุชุง ูพุฎุด ูุดู ูู **query load**. ูุฏู ุงูู ฺฉู ุงุฒ hot spot ุฌููฺฏุฑ ุจุดู (ุนู ุฌุง ฺฉู ู partition ุจุด ุงุฒ ุญุฏ ูพุฑฺฉุงุฑ ูุดู).
    
    ุฑูุดโูุง partitioning:
    
    - ุง**Key Range Partitioning**: ฺฉูุฏูุง ุฑู sort ูโฺฉูู ู ูุฑ partition ู ุจุงุฒู ุงุฒ ฺฉูุฏูุง ุฑู ูโฺฏุฑู. ุจุฑุง range query ุฎู ุฎูุจูุ ูู ุฎุทุฑ hot spot ุฏุงุฑู.
        
    - ุง**Partitioning by Hash of Key**: ฺฉูุฏูุง ุฑู hash ูโฺฉูู ุชุง ฺฉููุงุฎุชโุชุฑ ูพุฎุด ุจุดู. ุงูุทูุฑ ุงุญุชูุงู hot spot ฺฉูุชุฑู. **Consistent hashing** ูู ุชู ุณุณุชูโูุง caching ุงูุชุฑูุช ูุนุฑููู.
        
    - **Partitioning with Secondary Indexes**: ุงู ฺฉ ุณุฎุชโุชุฑู ฺูู secondary index ูุณุชูู ุฑู ู partition ููโุดูู. ุฏู ุชุง ุฑูุด ูุนุฑูู ุฏุงุฑู:
        
        -ุง Document-based (ุงูุฏฺฉุณ ฺฉูุงุฑ document ุฐุฎุฑู ูุดู โ query ุจุงุฏ scatter/gather ฺฉูู)
            
        - ุงTerm-based (ุงูุฏฺฉุณ global ูุดู โ read ุณุฑุนโุชุฑุ ูู write ูพฺุฏูโุชุฑ ูุดู)
            
    
    ๐น ุง**Replication**  
    ูุนูููุงู ููุฑุงู partitioning ุงุณุชูุงุฏู ูุดู. ุนู ฺูุฏุชุง ฺฉูพ ุงุฒ ู ุฏุชุง ุฑู nodeูุง ูุฎุชูู. ุงูุทูุฑ ูู **fault tolerance** ุฏุงุฑู ูู performance ุจูุชุฑ.
    
    ุฑูุดโูุง replication:
    
    - ุง**Single-Leader Replication**: ููู writeูุง ูุฑู ู leaderุ ุจุนุฏ ุจู followerูุง replicate ูุดู. ุณุงุฏูโุชุฑู ูู failover ูุงุฒูู.
        
    - ุง**Multi-Leader Replication**: ฺูุฏุชุง node ูโุชููู write ุจฺฏุฑู ู async ุจู ูู replicate ูโฺฉูู. ุจุฑุง multi-datacenter ุฎูุจู ูู conflict resolution ุณุฎุช ูุดู.
        
    - ุง**Leaderless Replication**: ูุฑ replica ูโุชููู write ุฑู ูุณุชูู ุจฺฏุฑู. ูุนูููุง ุจุง quorum (ุชุนุฏุงุฏ ูุดุฎุต node ุจุงุฏ ุชุฃุฏ ุจุฏู) consistency ุฑู ุญูุธ ูโฺฉูู. robust ูุณุชุ ูู ูุนูููุงู linearizability ูุฏุงุฑู.
        
1. ุง**Elastic Systems vs. Manually Scaled Systems**
    
    - ุง**Elastic Systems**: ุฎูุฏุดูู ููุช load ูุฑู ุจุงูุงุ ููุงุจุน ุงุถุงูู ูโฺฉูู. ุจุฑุง workloadูุง ุบุฑูุงุจูโูพุดโุจู ุฎู ุฎูุจู.
        
    - ุง**Manually Scaled Systems**: ุจุงุฏ ุขุฏูโูุง ุฏุณุช ุชุญูู ฺฉูู ู ุชุตูู ุจฺฏุฑู ฺฉ ูุงุดู ุงุถุงูู ุจุดู. ุณุงุฏูโุชุฑู ู ุณูุฑูพุฑุงุฒ ฺฉูุชุฑ ุฏุงุฑู.
        
2. **No One-Size-Fits-All Architecture**  
    ุจูุชุฑู ูุนูุงุฑ ุจุณุชฺฏ ุฏุงุฑู ุจู ุฎุตูุตุงุช ุงูพูฺฉุดู: ุชุนุฏุงุฏ readูุง ู writeูุงุ ุญุฌู ุฏุชุงุ ูพฺุฏฺฏ ุฏุชุงุ ูุงุฒ ุจู response time ู ุงูฺฏููุง ุฏุณุชุฑุณ.  
    ูุซูุงู ุณุณุชู ฺฉู ฑฐฐูุฒุงุฑ ุฏุฑุฎูุงุณุช ฺฉูฺฺฉ ุฏุฑ ุซุงูู ุฑู ููุฏู ูโฺฉููุ ุฒูู ุชุง ุขุณููู ูุฑู ุฏุงุฑู ุจุง ุณุณุชู ฺฉู ููุท ณ ุฏุฑุฎูุงุณุช ุณูฺฏู ุฏุฑ ุฏููู ูโฺฏุฑูุ ุญุช ุงฺฏู throughput ฺฉู ูุดุงุจู ุจุงุดู. ุจุฑุง startupูุง ูู ูุนูููุงู ูููโุชุฑู ฺฉู ุณุฑุน ูฺุฑ ุจุณุงุฒู ุชุง ุงูฺฉู ุฎูุฏุดููู ุฏุฑฺฏุฑ scaling ุฒูุฏููฺฏุงู ฺฉูู.
    
3. **General-Purpose Building Blocks**  
    ุจุง ุงูฺฉู ูุนูุงุฑโูุง ุงุฎุชุตุงุต ูุณุชูุ ูู ูุนูููุงู ุงุฒ ู ุณุฑ building block ุนููู ุณุงุฎุชู ูุดู. ุดูุงุฎุช ุงู ูพุงูโูุง ุฎู ูููู ุจุฑุง ุทุฑุงุญ ุณุณุชู scalable.
    
